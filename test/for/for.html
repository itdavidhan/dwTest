<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script type="text/javascript">
        
        var v1 = 0;
        var v2 = 0;
        var v3 = 0;

        for(var i=1; i<=3; i++) {
            var n = i;
            // console.log('n', n);
            (function() {
                var m = i;
                // console.log('m', m);
                setTimeout(function() {
                    console.log('a', i, n, m);
                    v1 += i;
                    v2 += n;
                    v3 += m;
                }, 1);
            })();
        }

        console.log('b', v1, v2, v3);

        setTimeout(function() {
            console.log('c', v1, v2, v3);
        }, 100);

    </script>
</head>
<body>
    
</body>
</html>